---
layout: null
permalink: /api/timeline.json
---
[
    {% for post in site.posts %}
    {
      "priority": "{{ post.priority }}",
      "date": "{{ post.date }}",
      "title": "{{ post.title }}",
      "href": "{{ post.link }}",
      {% if post.excerpt %}
      "description": "{{ post.excerpt | strip_html }}",
      {% else %}
      "description": "{{ post.body | strip_html | normalize_whitespace | truncatewords: 75 | escape }}",
      {% endif %}
      "comment": "{{ post.comment }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
]
{% comment %}
  @todo
  - These various items need to be stripped, checked and truncated
  - I've almost certainly not gotten the custom excerpts correct :)
  - can include link to the blog post version of an item -- e.g. http://localhost:4000/2001/01/15/drupal-1-released/
  - rather than a completely made up schema, I'd either use JSONfeed or maybe a timeline spec -- eg https://timeline.knightlab.com/docs/json-format.html
{% endcomment %}